"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[517],{9710:function(e,t,r){var n=r(8788),o=r(930),i=r(5163);t.Z=function(e){var t=e.query,r=e.queryFn,a=e.transformResponse;return(0,n.Z)((function(){var e,n,s,l,u=arguments;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:for(e=u.length,n=new Array(e),s=0;s<e;s++)n[s]=u[s];return[4,r(t.apply(void 0,(0,o.Z)(n)))];case 1:return l=i.sent(),"function"===typeof a?[2,a(l)]:[2,l]}}))}))}},599:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(8788),o=r(7328),i=r(6297),a=r(5163),s=r(162),l=r(3945);function u(e){var t=e.baseUrl;return function(){var e=(0,n.Z)((function(e){var r,n,u,d,p,f,y,E,A,v,_,h;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:r=e.body,n=e.headers,u=(0,i.Z)(e,["body","headers"]),a.label=1;case 1:return a.trys.push([1,3,,4]),d=Object.assign({"Content-Type":"application/json"},n),[4,s.Z.post(t,r,(0,o.Z)({headers:d},u))];case 2:return p=a.sent(),f=p.data,y=f.data,E=f.errors,A={data:y},E&&(A.errors=(0,l.I)(E[0])),[2,A];case 3:return v=a.sent(),h=(null===(_=v.response)||void 0===_?void 0:_.status)||500,console.log({error:v}),[2,{data:null,errors:[c({code:h,message:v.message})]}];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()}function c(e){var t=e.message,r=e.code;return{message:"Internal Server Error",extensions:{message:t,error:!0,code:String(r)}}}s.Z.defaults.timeout=3e4},3517:function(e,t,r){r.d(t,{vb:function(){return C},aC:function(){return w},NG:function(){return U},Cx:function(){return O},aU:function(){return Y},iM:function(){return P},Io:function(){return G}});var n=r(7328),o=r(6670),i=r(2784),a=r(5632),s=r.n(a),l=r(6826),u=r(2350),c=r(5830),d=r(8943),p=r(6383),f=r(4029),y=r(4701),E=r(9710),A=r(4409),v=r(599),_=(0,v.Z)({baseUrl:A.j?y.Bp.NEXT_API_PATH:y.Bp.API_URL}),h=(0,v.Z)({baseUrl:A.j?y.Rm.NEXT_API_PATH:y.Rm.API_URL}),N=(0,E.Z)({queryFn:_,query:function(e){var t={queryName:"refreshToken",args:{siteId:{value:e.siteId,type:"ID"},ownerId:{value:e.ownerId,type:"ID!"},platform:{value:"cms",type:"Platform"}},select:"token expiresAt success message user { id email role name}"};return{body:(0,f.Z)(t,!0)}},transformResponse:function(e){var t=(0,n.Z)({},e);return e.data&&(t.data=e.data.refreshToken),t}}),g=(0,E.Z)({queryFn:_,query:function(e){var t={queryName:"acceptInvitation",args:{token:{value:e,type:"String!"}},select:"user { id email role name } token message success expiresAt"};return{body:(0,f.Z)(t,!0)}},transformResponse:function(e){var t=(0,n.Z)({},e);return e.data&&(t.data=e.data.acceptInvitation),t}}),m=(0,E.Z)({queryFn:_,query:function(e){var t={queryName:"loginWith",args:{siteId:{type:"ID!",value:e.siteId},provider:{type:"String",value:e.provider},platform:{type:"Platform!",value:"cms"},passthrough:{type:"String",value:e.passthrough},ownerId:{type:"ID!",value:e.ownerId},source:{type:"SourceEnum",value:"PORTAL"}},select:"user {id email role name} token message success expiresAt"};return{body:(0,f.Z)(t,!0)}},transformResponse:function(e){var t=(0,n.Z)({},e);return e.data&&(t.data=e.data.loginWith),t}}),S=(0,E.Z)({queryFn:_,query:function(e){var t=e.queryKey,r=(0,p.Z)(t,2),n=r[0],o=r[1],i=o.siteId,a=o.redirectTo,s=o.domain,l=o.tempUser,u=o.email,c=o.siteType,d={queryName:n,args:{siteId:{type:"ID!",value:i},email:{type:"String!",value:u},domain:{type:"String!",value:s},platform:{type:"Platform!",value:"cms"},passthrough:{type:"String",value:o.passthrough},isCustomDomain:{type:"Boolean",value:!1},siteType:{type:"String!",value:c},redirectTo:{type:"String",value:a},user:{type:"TempUserInput",value:l},source:{type:"SourceEnum",value:"PORTAL"}},select:"status message success"};return{body:(0,f.Z)(d)}},transformResponse:function(e){var t=(0,n.Z)({},e);return e.data&&(t.data=e.data.sendMagicLink),t}}),R=(0,E.Z)({queryFn:_,query:function(){return{body:(0,f.Z)({queryName:"logout",args:{}},!0)}}}),b=(0,E.Z)({queryFn:h,query:function(e){var t=e.userId,r=e.token,n={queryName:"updateInvitedUser",args:{userId:{type:"ID!",value:t},name:{type:"String",value:e.name}},select:"name email id userId"};return{body:(0,f.Z)(n,!0),headers:{authorization:"Bearer ".concat(r)}}},transformResponse:function(e){var t=(0,n.Z)({},e);return e.data&&(t.data=e.data.updateInvitedUser),t}}),I=(0,E.Z)({queryFn:_,query:function(e){var t=e.queryKey,r=(0,p.Z)(t,2),n={queryName:r[0],args:{owner:{type:"ID!",value:r[1].id}},select:"isFreeUser"};return{body:(0,f.Z)(n)}},transformResponse:function(e){var t=(0,n.Z)({},e);return e.data&&(t.data=e.data.getUserStatsPublic),t}}),T=r(2202),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,u.D)(m,{onSuccess:function(r){var n=r.data;(null===n||void 0===n?void 0:n.success)&&(e.setQueryData(["auth"],n),localStorage.setItem("authData",JSON.stringify(n)),s().push("".concat(location.origin).concat(t)))}})},C=function(){var e=(0,c.NL)();return(0,u.D)(g,{onSuccess:function(t){var r=t.data;(null===r||void 0===r?void 0:r.success)&&(e.setQueryData(["auth"],r),localStorage.setItem("authData",JSON.stringify(r)))}})},L=function(e){return(0,u.D)(N,{onSuccess:function(t){var r=t.data;(null===r||void 0===r?void 0:r.success)?(localStorage.setItem("authData",JSON.stringify(r)),e.setQueryData(["auth"],r)):(localStorage.removeItem("authData"),e.setQueryData(["auth"],{}))}})},P=function(e){return(0,d.a)(["sendMagicLink",e],S,{enabled:!1,onSuccess:function(e){var t=e.data,r=document.querySelector(".magic-link-response");if(r){var n=(null===t||void 0===t?void 0:t.success)?"green":"red";r.style.color=n,r.textContent=null===t||void 0===t?void 0:t.message}}})},w=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.skip,s=void 0!==a&&a,u=(0,c.NL)(),d=u.getQueryData(["auth"]),p=L(u),f=p.mutate,y=p.isLoading,E=(0,l.W)(),A=E.data,v=E.isLoading,_=null===A||void 0===A||null===(e=A.data)||void 0===e?void 0:e.id,h=null===A||void 0===A||null===(t=A.data)||void 0===t?void 0:t.owner,N=!!(null===d||void 0===d?void 0:d.user),g=!(null===d||void 0===d?void 0:d.expiresAt)||1e3*d.expiresAt<Date.now();return(0,i.useEffect)((function(){!s&&N&&g&&_&&h&&f({siteId:_,ownerId:h})}),[g,f,_,s,N,h]),(0,i.useEffect)((function(){u.setQueryData(["auth"],JSON.parse(localStorage.getItem("authData")||"{}"))}),[]),(0,o.Z)((0,n.Z)({isTokenExpired:g,isAuth:!!(null===d||void 0===d?void 0:d.success)},d),{isLoading:v||y})},Y=function(e){return(0,u.D)(R,{onSuccess:function(t){e.invalidateQueries(["getUserMembership"]),t&&(e.setQueryData(["auth"],{}),localStorage.removeItem("authData"))}})},G=function(e){return(0,u.D)(b,{onSuccess:function(e){var t=e.data;(null===t||void 0===t?void 0:t.id)?(s().push("#"),(0,T.ZP)(t.message||"User updated successfully",{type:"success"}),function(e){var t=e.name;try{var r=JSON.parse(localStorage.getItem("authData")||null);(null===r||void 0===r?void 0:r.user)&&(r.user.name=t,localStorage.setItem("authData",JSON.stringify(r)))}catch(n){console.log({error:n})}}(t)):(0,T.ZP)("Something went wrong!",{type:"error"})}})},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,d.a)(["getUserStatsPublic",e],I,{enabled:!!(null===e||void 0===e?void 0:e.id)})}},6826:function(e,t,r){r.d(t,{W:function(){return A}});var n=r(5632),o=r(1856),i=r(5830),a=r(8943),s=r(7328),l=r(6383),u=r(4029),c=r(4701),d=r(9710),p=r(4409),f=(0,r(599).Z)({baseUrl:p.j?c.Rm.NEXT_API_PATH:c.Rm.API_URL}),y=(0,d.Z)({queryFn:f,query:function(e){var t=e.queryKey,r=(0,l.Z)(t,2),n=r[0],o=r[1],i=o.domain,a=o.customDomain,s=o.select,c=void 0===s?"":s;return{body:(0,u.Z)({queryName:n,select:"id status name domain owner domainType dorikSitePrefix postSlug categorySlug siteType globalStyle isURLRedirectEnabled isAnalyticsEnabled analyticsSiteId owner "+c,args:{domain:{value:i,type:"String!"},customDomain:{value:a,type:"Boolean!"}}})}},transformResponse:function(e){var t=(0,s.Z)({},e);return e.data&&(t.data=e.data.getSiteByDomain),t}}),E=(0,o.e)("production"),A=function(e,t){var r=(0,i.NL)(),s=(0,n.useRouter)().query.domain||c._o;o.jU&&(s&&window.localStorage.setItem("__SIMULATE_DOMAIN",s),s=window.localStorage.getItem("__SIMULATE_DOMAIN")),e=o.jU?window.location.host:r.getQueryData(["host"]);var l=E.resolveHost(e||"",s),u=l.domain,d=l.isCustomDomain;return(0,a.a)(["getSiteByDomain",{domain:u,customDomain:d,select:t}],y)}},3945:function(e,t,r){r.d(t,{I:function(){return i}});var n=r(7328),o=r(930),i=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(e,t){return t.apply(void 0,(0,o.Z)(e))}),[e])}}((function(e){var t=e.code,r=e.extensions;return[{message:e.message,extensions:(0,n.Z)({code:t},r)}]}),(function(e){var t=e.extensions,r=e.message;return[{extensions:(0,n.Z)({message:r},t)}]}),(function(e){var t=e.extensions,r=t.code,n=t.message,o=n;return 422===Number(r)&&"[object Object]"===Object.prototype.toString.call(n)&&(o=Object.values(n).join(",")),[{extensions:{code:r,message:{401:n,404:n,500:n,422:o,BAD_USER_INPUT:"Input is not valid",INTERNAL_SERVER_ERROR:"Internal Server Error"}[r]}}]}))},1856:function(e,t,r){r.d(t,{e:function(){return i},jU:function(){return n}});const n=typeof window<"u",o={test:{AGENCY:"cmsfly.com",LTD_AGENCY:"cmsfly.com",REGULAR:"dcms.site",REGULAR_LEGACY:"read.gd"},production:{AGENCY:"cmsfly.com",LTD_AGENCY:"cmsfly.com",REGULAR:"dcms.site",REGULAR_LEGACY:"read.gd"},development:{AGENCY:"agency.dorik.autos",LTD_AGENCY:"agency.dorik.autos",REGULAR:"dorik.autos",REGULAR_LEGACY:"dorik.autos"},staging:{AGENCY:"agency.dorikio.com",LTD_AGENCY:"agency.dorikio.com",REGULAR:"dorikio.com",REGULAR_LEGACY:"dorikio.com"},getAll:function(e){return Object.values(e)}},i=e=>{const{AGENCY:t,REGULAR:r,REGULAR_LEGACY:n,LTD_AGENCY:i}=o[e];return{AGENCY:t,REGULAR:r,LTD_AGENCY:i,REGULAR_LEGACY:n,resolveHost:(e,o="localhost:3000")=>{e=e.includes("localhost")?o:e;const a=[t,r,n].join("|"),s=new RegExp(`\\.(${a})$`),l=s.test(e);return{domain:l?e.replace(s,""):e,shouldResolveSite:r=>{const n={AGENCY:e.includes(t),REGULAR:!e.includes(t),LTD_AGENCY:e.includes(i)};return!l||n[r]},isCustomDomain:!l}}}},a=Object.freeze({owner:"owner",admin:"admin",author:"author",editor:"editor",sysAdmin:"sys_admin",developer:"developer",superUser:"super_user",publicApi:"public_api",subscriber:"subscriber",sysReviewer:"sys_reviewer"}),s=Object.freeze({TAG:"TAG",SITE:"SITE",POST:"POST",PAGE:"PAGE",THEME:"THEME",TOPIC:"TOPIC",API_KEY:"API_KEY",SITEMAP:"SITEMAP",LICENSE:"LICENSE",PAYMENT:"PAYMENT",CAMPAIGN:"CAMPAIGN",CATEGORY:"CATEGORY",RE_INDEX:"RE_INDEX",USER_META:"USER_META",All_SITES:"All_SITES",PUBLIC_API:"PUBLIC_API",MEMBERSHIP:"MEMBERSHIP",WEBHOOK_URL:"WEBHOOK_URL",CUSTOM_ROLE:"CUSTOM_ROLE",URL_REDIRECT:"URL_REDIRECT",ACTIVITY_LOG:"ACTIVITY_LOG",AGENCY_CONFIG:"AGENCY_CONFIG",MEDIA_LIBRARY:"MEDIA_LIBRARY",PRESIGNED_URL:"PRESIGNED_URL",CLIENT_BILLING:"CLIENT_BILLING",PUBLIC_API_KEY:"PUBLIC_API_KEY"}),l=Object.freeze({EXPORT_JSON:"EXPORT_JSON",INVITE_USER:"INVITE_USER",SITE_LIMITS:"SITE_LIMITS"});a.sysAdmin,a.sysReviewer;var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{},c={exports:{}},d={},p={},f={},y={},E=u&&u.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(y,"__esModule",{value:!0});var A=function(e){function t(r){void 0===r&&(r="");var n=e.call(this,r)||this;return n.message=r,n.name="AccessControlError",Object.setPrototypeOf(n,t.prototype),n}return E(t,e),t}(Error);y.AccessControlError=A;var v={},_={},h={};Object.defineProperty(h,"__esModule",{value:!0});h.Action={CREATE:"create",READ:"read",UPDATE:"update",DELETE:"delete"};var N={};Object.defineProperty(N,"__esModule",{value:!0});N.Possession={OWN:"own",ANY:"any"},Object.defineProperty(_,"__esModule",{value:!0});var g=h;_.Action=g.Action;var m=N;_.Possession=m.Possession;var S=Object.keys(g.Action).map((function(e){return g.Action[e]}));_.actions=S;var R=Object.keys(m.Possession).map((function(e){return m.Possession[e]}));_.possessions=R;var b={},I={exports:{}};typeof self<"u"&&self,I.exports=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="lib/",t(t.s=2)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.prototype.toString,o={isObject:function(e){return"[object Object]"===n.call(e)},isArray:function(e){return"[object Array]"===n.call(e)},ensureArray:function(e){return o.isArray(e)?e:null==e?[]:[e]},hasOwn:function(e,t){return e&&"function"==typeof e.hasOwnProperty&&e.hasOwnProperty(t)},deepCopy:function(e){if(!o.isObject(e))return e;var t=void 0,r=void 0,n={};for(t in e)o.hasOwn(e,t)&&(r=e[t],n[t]=o.isObject(r)?o.deepCopy(r):r);return n},each:function(e,t,r){for(var n=e.length,o=-1;++o<n&&!1!==t.call(r,e[o],o,e););},eachRight:function(e,t){for(var r=e.length;r--&&!1!==t(e[r],r,e););},pregQuote:function(e,t){return String(e).replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+(t||"")+"-]","g"),"\\$&")},stringOrArrayOf:function(e,t){return"string"==typeof e&&e===t||o.isArray(e)&&1===e.length&&e[0]===t},hasSingleItemOf:function(e,t){return 1===e.length&&(2!==arguments.length||e[0]===t)}};t.default=o},function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.name=r.constructor.name,Object.defineProperty(r,"name",{enumerable:!1,writable:!1,value:"NotationError"}),Object.defineProperty(r,"message",{enumerable:!1,writable:!0,value:e}),Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(r,r.constructor):Object.defineProperty(r,"stack",{enumerable:!1,writable:!1,value:new Error(e).stack}),r}return i(t,Error),t}();t.default=a},function(e,t,r){var n,o=r(3),i=(n=o)&&n.__esModule?n:{default:n};e.exports=i.default},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(0)),s=n(r(4)),l=n(r(1)),u={SOURCE:"Invalid source object.",DEST:"Invalid destination object.",NOTATION:"Invalid notation: ",NOTA_OBJ:"Invalid notations object: "},c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o(this,e),!a.default.isObject(t))throw new l.default(u.SOURCE);this._source=t}return i(e,[{key:"each",value:function(t){var r=this,n=this._source,o=Object.keys(n);a.default.each(o,(function(o,i,s){var l=n[o],u=void 0;a.default.isObject(l)?(u=new e(l)).each((function(e,r,i,a){var s=o+"."+e;t.call(u,s,r,i,n)})):t.call(r,o,o,l,n)}))}},{key:"eachKey",value:function(e){return this.each(e)}},{key:"eachValue",value:function(t,r){if(!e.isValid(t))throw new l.default(u.NOTATION+"`"+t+"`");var n=this._source;e.eachNote(t,(function(e,t,o,i){if(n=a.default.hasOwn(n,t)?n[t]:void 0,!1===r(n,e,t,o,i))return!1}))}},{key:"getNotations",value:function(){var e=[];return this.each((function(t,r,n,o){e.push(t)})),e}},{key:"flatten",value:function(){var e={};return this.each((function(t,r,n,o){e[t]=n})),this._source=e,this}},{key:"expand",value:function(){return this._source=e.create({}).merge(this._source).value,this}},{key:"aggregate",value:function(){return this.expand()}},{key:"inspect",value:function(t){if(!e.isValid(t))throw new l.default(u.NOTATION+"`"+t+"`");var r=this._source,n={has:!1,value:void 0};return e.eachNote(t,(function(e,t,o,i){if(!a.default.hasOwn(r,t))return n={has:!1,value:void 0},!1;r=r[t],n={has:!0,value:r}})),n}},{key:"inspectRemove",value:function(t){if(!e.isValid(t))throw new l.default(u.NOTATION+"`"+t+"`");var r=void 0,n=void 0;if(t.indexOf(".")<0)n=t,r=this._source;else{var o=e.parent(t);n=e.last(t),r=this.inspect(o).value}var i=void 0;return a.default.hasOwn(r,n)?(i={has:!0,value:r[n]},delete r[n]):i={has:!1,value:void 0},i}},{key:"has",value:function(e){return this.inspect(e).has}},{key:"hasDefined",value:function(e){return void 0!==this.inspect(e).value}},{key:"get",value:function(e,t){var r=this.inspect(e);return r.has?r.value:t}},{key:"set",value:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e.isValid(t))throw new l.default(u.NOTATION+"`"+t+"`");var o=this._source,i=void 0;return e.eachNote(t,(function(e,t,s,l){i=s===l.length-1,a.default.hasOwn(o,t)?i?n&&(o[t]=r):o=o[t]:o=o[t]=i?r:{}})),this}},{key:"merge",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!a.default.isObject(e))throw new l.default(u.NOTA_OBJ+"`"+e+"`");var n=void 0;return a.default.each(Object.keys(e),(function(o,i,a){n=e[o],t.set(o,n,r)})),this}},{key:"separate",value:function(t){var r=this;if(!a.default.isArray(t))throw new l.default(u.NOTA_OBJ+"`"+t+"`");var n=new e({});return a.default.each(t,(function(e,t,o){var i=r.inspectRemove(e);n.set(e,i.value)})),this._source=n._source,this}},{key:"filter",value:function(t){var r=this,n=this.value,o=a.default.deepCopy(n),i=s.default.normalize(t).concat();if(a.default.stringOrArrayOf(i,"*"))return this._source=o,this;if(0===arguments.length||a.default.stringOrArrayOf(i,"")||a.default.stringOrArrayOf(i,"!*"))return this._source={},this;var l=void 0;"*"===i[0]?(l=new e(o),i.shift()):l=new e({});var u=void 0,c=void 0,d=void 0;return a.default.each(i,(function(t,o,i){if(u=new s.default(t),c=".*"===u.absGlob.slice(-2),(d=c?u.absGlob.slice(0,-2):u.absGlob).indexOf("*")<0)return u.isNegated?(l.remove(d),c&&l.set(d,{},!0)):l.copyFrom(n,d,null,!0),!0;r.each((function(t,r,n,o){e.eachNote(t,(function(e,t,r,o){if(u.test(e)){if(u.isNegated)return l.remove(e),!1;l.set(e,n,!0)}}))}))})),this._source=l.value,this}},{key:"remove",value:function(e){return this.inspectRemove(e),this}},{key:"delete",value:function(e){return this.remove(e),this}},{key:"clone",value:function(){return new e(a.default.deepCopy(this.value))}},{key:"copyTo",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!a.default.isObject(t))throw new l.default(u.DEST);var i=this.inspect(r);return i.has&&new e(t).set(n||r,i.value,o),this}},{key:"copyFrom",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!a.default.isObject(t))throw new l.default(u.DEST);var i=new e(t).inspect(r);return i.has&&this.set(n||r,i.value,o),this}},{key:"moveTo",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!a.default.isObject(t))throw new l.default(u.DEST);var i=this.inspectRemove(r);return i.has&&new e(t).set(n||r,i.value,o),this}},{key:"moveFrom",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!a.default.isObject(t))throw new l.default(u.DEST);var i=new e(t).inspectRemove(r);return i.has&&this.set(n||r,i.value,o),this}},{key:"rename",value:function(e,t,r){return t?this.moveTo(this._source,e,t,r):this}},{key:"renote",value:function(e,t,r){return this.rename(e,t,r)}},{key:"extract",value:function(e,t){var r={};return this.copyTo(r,e,t),r}},{key:"copyToNew",value:function(e,t){return this.extract(e,t)}},{key:"extrude",value:function(e,t){var r={};return this.moveTo(r,e,t),r}},{key:"moveToNew",value:function(e,t){return this.extrude(e,t)}},{key:"value",get:function(){return this._source}}],[{key:"create",value:function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},{key:"isValid",value:function(e){return"string"==typeof e&&/^[^\s.!]+(\.[^\s.!]+)*$/.test(e)}},{key:"countNotes",value:function(t){if(!e.isValid(t))throw new l.default(u.NOTATION+"`"+t+"`");return t.split(".").length}},{key:"countLevels",value:function(t){return e.countNotes(t)}},{key:"first",value:function(t){if(!e.isValid(t))throw new l.default(u.NOTATION+"`"+t+"`");return t.split(".")[0]}},{key:"last",value:function(t){if(!e.isValid(t))throw new l.default(u.NOTATION+"`"+t+"`");return t.split(".").reverse()[0]}},{key:"parent",value:function(t){if(!e.isValid(t))throw new l.default(u.NOTATION+"`"+t+"`");return t.indexOf(".")>=0?t.replace(/\.[^.]*$/,""):null}},{key:"eachNote",value:function(t,r){if(!e.isValid(t))throw new l.default(u.NOTATION+"`"+t+"`");var n=t.split("."),o=[],i=void 0;a.default.each(n,(function(e,t,a){if(o.push(e),i=o.join("."),!1===r(i,e,t,n))return!1}),e)}},{key:"eachLevel",value:function(t,r){e.eachNote(t,r)}}]),e}();c.Error=l.default,c.Glob=s.default,t.default=c},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(0)),s=n(r(1)),l=function(){function e(t){if(o(this,e),!e.isValid(t))throw new s.default('Invalid notation glob: "'+t+'"');var r=e.inspect(t);this._={glob:t,absGlob:r.absGlob,isNegated:r.isNegated,regexp:e.toRegExp(r.absGlob),levels:r.absGlob.split(".")}}return i(e,[{key:"test",value:function(e){return"*"===this.absGlob||""!==this.absGlob&&""!==e&&this.regexp.test(e)}},{key:"glob",get:function(){return this._.glob}},{key:"absGlob",get:function(){return this._.absGlob}},{key:"isNegated",get:function(){return this._.isNegated}},{key:"regexp",get:function(){return this._.regexp}},{key:"notes",get:function(){return this._.levels}},{key:"levels",get:function(){return this._.levels}}],[{key:"create",value:function(t){return new e(t)}},{key:"toRegExp",value:function(e){return 0===e.indexOf("!")&&(e=e.slice(1)),e=a.default.pregQuote(e).replace(/\\\*/g,"[^\\s\\.]*").replace(/\\\?/g,"."),new RegExp("^"+e+"(\\..+|$)")}},{key:"inspect",value:function(e){var t="!"===e.slice(0,1);return{absGlob:e=t?e.slice(1):e,isNegated:t}}},{key:"isValid",value:function(e){return"string"==typeof e&&/^(!?([^\s.!*]+|\*)(\.([^\s.!*]+|\*))*)$/.test(e)}},{key:"compare",value:function(e,t){if(e===t)return 0;var r=e.split("."),n=t.split(".");if(r.length===n.length){var o=/(?:^|\.)\*(?:$|\.)/g,i=e.match(o),a=t.match(o),s=i?i.length:0,l=a?a.length:0;if(s===l){var u=0===e.indexOf("!"),c=0===t.indexOf("!");if(u===c)return e<t?-1:1;var d=u?e.slice(1):e,p=c?t.slice(1):t;return d===p?u?1:-1:d<p?-1:1}return s>l?-1:1}return r.length<n.length?-1:1}},{key:"sort",value:function(t){return t.sort(e.compare)}},{key:"normalize",value:function(t){t=a.default.ensureArray(t).map((function(e){return e.trim()})),t=e.sort(t),a.default.eachRight(t,(function(r,n){var o=e.inspect(r),i=!1,s=!1,l=!1,u=!0,c=!1,d=!0;a.default.eachRight(t,(function(t,a){if(a!==n){var p=e.inspect(t),f=e.toRegExp(p.absGlob);if(r===t)return i=!0,!1;if(p.isNegated&&r===p.absGlob)return s=!0,!1;if(o.isNegated){if(p.isNegated&&f.test(o.absGlob))return l=!0,!1;u&&f.test(o.absGlob)&&(u=!1)}else!p.isNegated&&f.test(o.absGlob)?c=!0:d&&f.test(o.absGlob)&&(d=!1)}}));var p=o.isNegated?l||u:c&&d;(i||s||p)&&t.splice(n,1)}));var r=t.indexOf("!*");return r>=0&&t.splice(r,1),t}},{key:"union",value:function(t,r){if(a.default.hasSingleItemOf(t,"*")||a.default.hasSingleItemOf(r,"*"))return["*"];var n=t.concat(),o=r.concat(),i=void 0,s=void 0,l=void 0,u=void 0,c=[];a.default.eachRight(n,(function(t,r){l=e.inspect(t),i=e.toRegExp(l.absGlob),a.default.eachRight(o,(function(a,d){if(u=e.inspect(a),s=e.toRegExp(u.absGlob),l.isNegated&&!u.isNegated&&(l.absGlob===u.absGlob||s.test(l.absGlob)&&-1===o.indexOf(t)&&-1===c.indexOf(t)))return n.splice(r,1),!1;if(l.isNegated||!u.isNegated||!(l.absGlob===u.absGlob||i.test(u.absGlob)&&-1===n.indexOf(a)&&-1===c.indexOf(a))){if(l.isNegated&&u.isNegated&&t!==a){if(s.test(l.absGlob))return o.splice(d,1),void c.push(t);if(i.test(u.absGlob))return n.splice(r,1),c.push(a),!1}return l.isNegated||u.isNegated||t!==a?void 0:(n.splice(r,1),!1)}o.splice(d,1)}))}));var d=n.concat(o);return e.normalize(d)}}]),e}();t.default=l}]);var T,O,C=I.exports;function L(){if(T)return b;T=1,Object.defineProperty(b,"__esModule",{value:!0});var e=C,t=_,r=M(),n=["*","!","$","$extend"];b.RESERVED_KEYWORDS=n;b.ERR_LOCK="Cannot alter the underlying grants model. AccessControl instance is locked.";var o={type:function(e){return Object.prototype.toString.call(e).match(/\s(\w+)/i)[1].toLowerCase()},hasDefined:function(e,t){return e.hasOwnProperty(t)&&void 0!==e[t]},toStringArray:function(e){return Array.isArray(e)?e:"string"==typeof e?e.trim().split(/\s*[;,]\s*/):[]},isFilledStringArray:function(e){if(!e||!Array.isArray(e))return!1;for(var t=0,r=e;t<r.length;t++){var n=r[t];if("string"!=typeof n||""===n.trim())return!1}return!0},isEmptyArray:function(e){return Array.isArray(e)&&0===e.length},pushUniq:function(e,t){return e.indexOf(t)<0&&e.push(t),e},uniqConcat:function(e,t){var r=e.concat();return t.forEach((function(e){o.pushUniq(r,e)})),r},subtractArray:function(e,t){return e.concat().filter((function(e){return-1===t.indexOf(e)}))},deepFreeze:function(e){if("object"===o.type(e))return Object.getOwnPropertyNames(e).forEach((function(t){var r=e[t];Array.isArray(r)&&Object.freeze(r),"object"===o.type(r)&&o.deepFreeze(r)})),Object.freeze(e)},each:function(e,t,r){void 0===r&&(r=null);for(var n=e.length,o=-1;++o<n&&!1!==t.call(r,e[o],o,e););},eachKey:function(e,t,r){void 0===r&&(r=null),o.each(Object.keys(e),t,r)},eachRole:function(e,t){o.eachKey(e,(function(r){return t(e[r],r)}))},eachRoleResource:function(e,t){var r,n;o.eachKey(e,(function(i){r=e[i],o.eachKey(r,(function(e){n=i[e],t(i,e,n)}))}))},isInfoFulfilled:function(e){return o.hasDefined(e,"role")&&o.hasDefined(e,"action")&&o.hasDefined(e,"resource")},validName:function(e,t){if(void 0===t&&(t=!0),"string"!=typeof e||""===e.trim()){if(!t)return!1;throw new r.AccessControlError("Invalid name, expected a valid string.")}if(n.indexOf(e)>=0){if(!t)return!1;throw new r.AccessControlError('Cannot use reserved name: "'+e+'"')}return!0},hasValidNames:function(e,t){void 0===t&&(t=!0);var r=!0;return o.each(o.toStringArray(e),(function(e){return!!o.validName(e,t)||(r=!1,!1)})),r},validResourceObject:function(e){if("object"!==o.type(e))throw new r.AccessControlError("Invalid resource definition.");return o.eachKey(e,(function(n){var i=n.split(":");if(-1===t.actions.indexOf(i[0]))throw new r.AccessControlError('Invalid action: "'+n+'"');if(i[1]&&-1===t.possessions.indexOf(i[1]))throw new r.AccessControlError('Invalid action possession: "'+n+'"');var a=e[n];if(!o.isEmptyArray(a)&&!o.isFilledStringArray(a))throw new r.AccessControlError('Invalid resource attributes for action "'+n+'".')})),!0},validRoleObject:function(e,t){var n=e[t];if(!n||"object"!==o.type(n))throw new r.AccessControlError("Invalid role definition.");return o.eachKey(n,(function(i){if(o.validName(i,!1))o.validResourceObject(n[i]);else{if("$extend"!==i)throw new r.AccessControlError('Cannot use reserved name "'+i+'" for a resource.');var a=n[i];if(!o.isFilledStringArray(a))throw new r.AccessControlError('Invalid extend value for role "'+t+'": '+JSON.stringify(a));o.extendRole(e,t,a)}})),!0},getInspectedGrants:function(e){var t={},n=o.type(e);if("object"===n)o.eachKey(e,(function(t){return!!o.validName(t)&&o.validRoleObject(e,t)})),t=e;else{if("array"!==n)throw new r.AccessControlError("Invalid grants object. Expected an array or object.");e.forEach((function(e){return o.commitToGrants(t,e,!0)}))}return t},getResources:function(e){var t={};return o.eachRoleResource(e,(function(e,r,n){t[r]=null})),Object.keys(t)},normalizeActionPossession:function(e,n){if(void 0===n&&(n=!1),"string"!=typeof e.action)throw new r.AccessControlError("Invalid action: "+JSON.stringify(e));var o=e.action.split(":");if(t.actions.indexOf(o[0].trim().toLowerCase())<0)throw new r.AccessControlError("Invalid action: "+o[0]);e.action=o[0].trim().toLowerCase();var i=e.possession||o[1];if(i){if(t.possessions.indexOf(i.trim().toLowerCase())<0)throw new r.AccessControlError("Invalid action possession: "+i);e.possession=i.trim().toLowerCase()}else e.possession=t.Possession.ANY;return n?e.action+":"+e.possession:e},normalizeQueryInfo:function(e){if("object"!==o.type(e))throw new r.AccessControlError("Invalid IQueryInfo: "+typeof e);if((e=Object.assign({},e)).role=o.toStringArray(e.role),!o.isFilledStringArray(e.role))throw new r.AccessControlError("Invalid role(s): "+JSON.stringify(e.role));if("string"!=typeof e.resource||""===e.resource.trim())throw new r.AccessControlError('Invalid resource: "'+e.resource+'"');return e.resource=e.resource.trim(),e=o.normalizeActionPossession(e)},normalizeAccessInfo:function(e,t){if(void 0===t&&(t=!1),"object"!==o.type(e))throw new r.AccessControlError("Invalid IAccessInfo: "+typeof e);if((e=Object.assign({},e)).role=o.toStringArray(e.role),0===e.role.length||!o.isFilledStringArray(e.role))throw new r.AccessControlError("Invalid role(s): "+JSON.stringify(e.role));if(e.resource=o.toStringArray(e.resource),0===e.resource.length||!o.isFilledStringArray(e.resource))throw new r.AccessControlError("Invalid resource(s): "+JSON.stringify(e.resource));return e.denied||Array.isArray(e.attributes)&&0===e.attributes.length?e.attributes=[]:e.attributes=e.attributes?o.toStringArray(e.attributes):["*"],t&&(e=o.normalizeActionPossession(e)),e},resetAttributes:function(e){return e.denied?(e.attributes=[],e):((!e.attributes||o.isEmptyArray(e.attributes))&&(e.attributes=["*"]),e)},getRoleHierarchyOf:function(e,t,n){var i=e[t];if(!i)throw new r.AccessControlError('Role not found: "'+t+'"');var a=[t];return!Array.isArray(i.$extend)||0===i.$extend.length||i.$extend.forEach((function(i){if(!e[i])throw new r.AccessControlError('Role not found: "'+e[i]+'"');if(i===t)throw new r.AccessControlError('Cannot extend role "'+t+'" by itself.');if(n&&n===i)throw new r.AccessControlError('Cross inheritance is not allowed. Role "'+i+'" already extends "'+n+'".');var s=o.getRoleHierarchyOf(e,i,n||t);a=o.uniqConcat(a,s)})),a},getFlatRoles:function(e,t){var n=o.toStringArray(t);if(0===n.length)throw new r.AccessControlError("Invalid role(s): "+JSON.stringify(t));var i=o.uniqConcat([],n);return n.forEach((function(t){i=o.uniqConcat(i,o.getRoleHierarchyOf(e,t))})),i},getNonExistentRoles:function(e,t){var r=[];if(o.isEmptyArray(t))return r;for(var n=0,i=t;n<i.length;n++){var a=i[n];e.hasOwnProperty(a)||r.push(a)}return r},getCrossExtendingRole:function(e,t,r){var n=o.toStringArray(r),i=null;return o.each(n,(function(r){if(i||t===r)return!1;var n=o.getRoleHierarchyOf(e,r);return o.each(n,(function(e){return e!==t||(i=r,!1)})),!0})),i},extendRole:function(e,t,n){if(0===(t=o.toStringArray(t)).length)throw new r.AccessControlError("Invalid role(s): "+JSON.stringify(t));if(!o.isEmptyArray(n)){var i=o.toStringArray(n).concat();if(0===i.length)throw new r.AccessControlError("Cannot inherit invalid role(s): "+JSON.stringify(n));var a=o.getNonExistentRoles(e,i);if(a.length>0)throw new r.AccessControlError('Cannot inherit non-existent role(s): "'+a.join(", ")+'"');t.forEach((function(t){if(!e[t])throw new r.AccessControlError('Role not found: "'+t+'"');if(i.indexOf(t)>=0)throw new r.AccessControlError('Cannot extend role "'+t+'" by itself.');var n=o.getCrossExtendingRole(e,t,i);if(n)throw new r.AccessControlError('Cross inheritance is not allowed. Role "'+n+'" already extends "'+t+'".');o.validName(t);var a=e[t];Array.isArray(a.$extend)?a.$extend=o.uniqConcat(a.$extend,i):a.$extend=i}))}},preCreateRoles:function(e,t){if("string"==typeof t&&(t=o.toStringArray(t)),!Array.isArray(t)||0===t.length)throw new r.AccessControlError("Invalid role(s): "+JSON.stringify(t));t.forEach((function(t){o.validName(t)&&!e.hasOwnProperty(t)&&(e[t]={})}))},commitToGrants:function(e,t,r){void 0===r&&(r=!1),(t=o.normalizeAccessInfo(t,r)).role.forEach((function(r){o.validName(r)&&!e.hasOwnProperty(r)&&(e[r]={});var n=e[r],i=t.action+":"+t.possession;t.resource.forEach((function(e){o.validName(e)&&!n.hasOwnProperty(e)&&(n[e]={}),n[e][i]=o.toStringArray(t.attributes)}))}))},getUnionAttrsOfRoles:function(t,r){r=o.normalizeQueryInfo(r);var n,i,a=[];o.getFlatRoles(t,r.role).forEach((function(e,o){n=t[e],(i=n[r.resource])&&a.push((i[r.action+":"+r.possession]||i[r.action+":any"]||[]).concat())}));var s=[],l=a.length;if(l>0){s=a[0];for(var u=1;u<l;)s=e.Glob.union(s,a[u]),u++}return s},lockAC:function(e){var t=e;if(!t._grants||0===Object.keys(t._grants).length)throw new r.AccessControlError("Cannot lock empty or invalid grants model.");var n=e.isLocked&&Object.isFrozen(t._grants);if(n||(n=!!o.deepFreeze(t._grants)),!n)throw new r.AccessControlError("Could not lock grants: "+typeof t._grants);t._isLocked=n},filter:function(t,r){return Array.isArray(r)&&0!==r.length?new e(t).filter(r).value:{}},filterAll:function(e,t){return Array.isArray(e)?e.map((function(e){return o.filter(e,t)})):o.filter(e,t)}};return b.utils=o,b}var P,w={};var Y,G,U={};function M(){return G||(G=1,function(e){function t(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),t(y),t(function(){if(O)return v;O=1,Object.defineProperty(v,"__esModule",{value:!0});var e=M(),t=_,r=L(),n=function(){function n(t,n,o){if(void 0===o&&(o=!1),this._={},this._ac=t,this._grants=t._grants,this._.denied=o,"string"==typeof n||Array.isArray(n))this.role(n);else if("object"===r.utils.type(n)){if(0===Object.keys(n).length)throw new e.AccessControlError("Invalid IAccessInfo: {}");n.denied=o,this._=r.utils.resetAttributes(n),r.utils.isInfoFulfilled(this._)&&r.utils.commitToGrants(this._grants,this._,!0)}else if(void 0!==n)throw new e.AccessControlError("Invalid role(s), expected a valid string, string[] or IAccessInfo.")}return Object.defineProperty(n.prototype,"denied",{get:function(){return this._.denied},enumerable:!0,configurable:!0}),n.prototype.role=function(e){return r.utils.preCreateRoles(this._grants,e),this._.role=e,this},n.prototype.resource=function(e){return r.utils.hasValidNames(e,!0),this._.resource=e,this},n.prototype.attributes=function(e){return this._.attributes=e,this},n.prototype.extend=function(e){return r.utils.extendRole(this._grants,this._.role,e),this},n.prototype.inherit=function(e){return this.extend(e),this},n.prototype.grant=function(e){return new n(this._ac,e,!1).attributes(["*"])},n.prototype.deny=function(e){return new n(this._ac,e,!0).attributes([])},n.prototype.lock=function(){return r.utils.lockAC(this._ac),this},n.prototype.createOwn=function(e,r){return this._prepareAndCommit(t.Action.CREATE,t.Possession.OWN,e,r)},n.prototype.createAny=function(e,r){return this._prepareAndCommit(t.Action.CREATE,t.Possession.ANY,e,r)},n.prototype.create=function(e,t){return this.createAny(e,t)},n.prototype.readOwn=function(e,r){return this._prepareAndCommit(t.Action.READ,t.Possession.OWN,e,r)},n.prototype.readAny=function(e,r){return this._prepareAndCommit(t.Action.READ,t.Possession.ANY,e,r)},n.prototype.read=function(e,t){return this.readAny(e,t)},n.prototype.updateOwn=function(e,r){return this._prepareAndCommit(t.Action.UPDATE,t.Possession.OWN,e,r)},n.prototype.updateAny=function(e,r){return this._prepareAndCommit(t.Action.UPDATE,t.Possession.ANY,e,r)},n.prototype.update=function(e,t){return this.updateAny(e,t)},n.prototype.deleteOwn=function(e,r){return this._prepareAndCommit(t.Action.DELETE,t.Possession.OWN,e,r)},n.prototype.deleteAny=function(e,r){return this._prepareAndCommit(t.Action.DELETE,t.Possession.ANY,e,r)},n.prototype.delete=function(e,t){return this.deleteAny(e,t)},n.prototype._prepareAndCommit=function(e,t,n,o){return this._.action=e,this._.possession=t,n&&(this._.resource=n),this._.denied?this._.attributes=[]:this._.attributes=o?r.utils.toStringArray(o):["*"],r.utils.commitToGrants(this._grants,this._,!1),this._.attributes=void 0,this},n}();return v.Access=n,v}()),t(function(){if(P)return w;P=1,Object.defineProperty(w,"__esModule",{value:!0});var e=M(),t=_,r=L(),n=function(){function n(t,n){if(this._={},this._grants=t,"string"==typeof n||Array.isArray(n))this.role(n);else if("object"===r.utils.type(n)){if(0===Object.keys(n).length)throw new e.AccessControlError("Invalid IQueryInfo: {}");this._=n}else if(void 0!==n)throw new e.AccessControlError("Invalid role(s), expected a valid string, string[] or IQueryInfo.")}return n.prototype.role=function(e){return this._.role=e,this},n.prototype.resource=function(e){return this._.resource=e,this},n.prototype.createOwn=function(e){return this._getPermission(t.Action.CREATE,t.Possession.OWN,e)},n.prototype.createAny=function(e){return this._getPermission(t.Action.CREATE,t.Possession.ANY,e)},n.prototype.create=function(e){return this.createAny(e)},n.prototype.readOwn=function(e){return this._getPermission(t.Action.READ,t.Possession.OWN,e)},n.prototype.readAny=function(e){return this._getPermission(t.Action.READ,t.Possession.ANY,e)},n.prototype.read=function(e){return this.readAny(e)},n.prototype.updateOwn=function(e){return this._getPermission(t.Action.UPDATE,t.Possession.OWN,e)},n.prototype.updateAny=function(e){return this._getPermission(t.Action.UPDATE,t.Possession.ANY,e)},n.prototype.update=function(e){return this.updateAny(e)},n.prototype.deleteOwn=function(e){return this._getPermission(t.Action.DELETE,t.Possession.OWN,e)},n.prototype.deleteAny=function(e){return this._getPermission(t.Action.DELETE,t.Possession.ANY,e)},n.prototype.delete=function(e){return this.deleteAny(e)},n.prototype._getPermission=function(t,r,n){return this._.action=t,this._.possession=r,n&&(this._.resource=n),new e.Permission(this._grants,this._)},n}();return w.Query=n,w}()),t(function(){if(Y)return U;Y=1,Object.defineProperty(U,"__esModule",{value:!0});var e=L(),t=function(){function t(t,r){this._={},this._.attributes=e.utils.getUnionAttrsOfRoles(t,r),this._.role=r.role,this._.resource=r.resource}return Object.defineProperty(t.prototype,"roles",{get:function(){return this._.role},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resource",{get:function(){return this._.resource},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){return this._.attributes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"granted",{get:function(){return!(!this.attributes||0===this.attributes.length)&&this.attributes.some((function(e){return"!"!==e.trim().slice(0,1)}))},enumerable:!0,configurable:!0}),t.prototype.filter=function(t){return e.utils.filterAll(t,this.attributes)},t}();return U.Permission=t,U}())}(f)),f}Object.defineProperty(p,"__esModule",{value:!0});var D=M(),B=_,x=L(),k=function(){function e(e){this._isLocked=!1,0===arguments.length&&(e={}),this.setGrants(e)}return Object.defineProperty(e.prototype,"isLocked",{get:function(){return this._isLocked&&Object.isFrozen(this._grants)},enumerable:!0,configurable:!0}),e.prototype.getGrants=function(){return this._grants},e.prototype.setGrants=function(e){if(this.isLocked)throw new D.AccessControlError(x.ERR_LOCK);return this._grants=x.utils.getInspectedGrants(e),this},e.prototype.reset=function(){if(this.isLocked)throw new D.AccessControlError(x.ERR_LOCK);return this._grants={},this},e.prototype.lock=function(){return x.utils.lockAC(this),this},e.prototype.extendRole=function(e,t){if(this.isLocked)throw new D.AccessControlError(x.ERR_LOCK);return x.utils.extendRole(this._grants,e,t),this},e.prototype.removeRoles=function(e){var t=this;if(this.isLocked)throw new D.AccessControlError(x.ERR_LOCK);var r=x.utils.toStringArray(e);if(0===r.length||!x.utils.isFilledStringArray(r))throw new D.AccessControlError("Invalid role(s): "+JSON.stringify(e));return r.forEach((function(e){if(!t._grants[e])throw new D.AccessControlError('Cannot remove a non-existing role: "'+e+'"');delete t._grants[e]})),x.utils.eachRole(this._grants,(function(e,t){Array.isArray(e.$extend)&&(e.$extend=x.utils.subtractArray(e.$extend,r))})),this},e.prototype.removeResources=function(e,t){if(this.isLocked)throw new D.AccessControlError(x.ERR_LOCK);return this._removePermission(e,t),this},e.prototype.getRoles=function(){return Object.keys(this._grants)},e.prototype.getInheritedRolesOf=function(e){var t=x.utils.getRoleHierarchyOf(this._grants,e);return t.shift(),t},e.prototype.getExtendedRolesOf=function(e){return this.getInheritedRolesOf(e)},e.prototype.getResources=function(){return x.utils.getResources(this._grants)},e.prototype.hasRole=function(e){var t=this;return Array.isArray(e)?e.every((function(e){return t._grants.hasOwnProperty(e)})):this._grants.hasOwnProperty(e)},e.prototype.hasResource=function(e){var t=this.getResources();return Array.isArray(e)?e.every((function(e){return t.indexOf(e)>=0})):"string"==typeof e&&""!==e&&t.indexOf(e)>=0},e.prototype.can=function(e){if(0!==arguments.length&&void 0===e)throw new D.AccessControlError("Invalid role(s): undefined");return new D.Query(this._grants,e)},e.prototype.query=function(e){return this.can(e)},e.prototype.permission=function(e){return new D.Permission(this._grants,e)},e.prototype.grant=function(e){if(this.isLocked)throw new D.AccessControlError(x.ERR_LOCK);if(0!==arguments.length&&void 0===e)throw new D.AccessControlError("Invalid role(s): undefined");return new D.Access(this,e,!1)},e.prototype.allow=function(e){return this.grant(e)},e.prototype.deny=function(e){if(this.isLocked)throw new D.AccessControlError(x.ERR_LOCK);if(0!==arguments.length&&void 0===e)throw new D.AccessControlError("Invalid role(s): undefined");return new D.Access(this,e,!0)},e.prototype.reject=function(e){return this.deny(e)},e.prototype._removePermission=function(e,t,r){var n=this;if(0===(e=x.utils.toStringArray(e)).length||!x.utils.isFilledStringArray(e))throw new D.AccessControlError("Invalid resource(s): "+JSON.stringify(e));if(void 0!==t&&(0===(t=x.utils.toStringArray(t)).length||!x.utils.isFilledStringArray(t)))throw new D.AccessControlError("Invalid role(s): "+JSON.stringify(t));x.utils.eachRoleResource(this._grants,(function(o,i,a){if(e.indexOf(i)>=0&&(!t||t.indexOf(o)>=0))if(r){var s=x.utils.normalizeActionPossession({action:r},!0);delete n._grants[o][i][s]}else delete n._grants[o][i]}))},Object.defineProperty(e,"Action",{get:function(){return B.Action},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Possession",{get:function(){return B.Possession},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Error",{get:function(){return D.AccessControlError},enumerable:!0,configurable:!0}),e.filter=function(e,t){return x.utils.filterAll(e,t)},e.isACError=function(e){return e instanceof D.AccessControlError},e.isAccessControlError=function(t){return e.isACError(t)},e}();p.AccessControl=k,function(e){function t(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),t(p),t(M())}(d);var j=d.AccessControl;c.exports=j;var F=c.exports.AccessControl=j;const{EXPORT_JSON:H,SITE_LIMITS:K}=l,{publicApi:Z,owner:q,admin:V,editor:$,author:W,sysAdmin:J,developer:z,superUser:Q,subscriber:X,sysReviewer:ee}=a,{TAG:te,SITE:re,POST:ne,PAGE:oe,TOPIC:ie,API_KEY:ae,SITEMAP:se,LICENSE:le,PAYMENT:ue,CATEGORY:ce,USER_META:de,CAMPAIGN:pe,RE_INDEX:fe,All_SITES:ye,MEMBERSHIP:Ee,PUBLIC_API:Ae,CUSTOM_ROLE:ve,URL_REDIRECT:_e,WEBHOOK_URL:he,ACTIVITY_LOG:Ne,PRESIGNED_URL:ge,MEDIA_LIBRARY:me,AGENCY_CONFIG:Se,CLIENT_BILLING:Re}=s,be=new F,Ie=Object.values(s);be.grant(W).create([ne,ie,ge,me]).read([ne,ie,ce,te,ge,me,re]).update([ne,ie,me]).grant($).extend(W).create([ce,te]).read([oe]).update([ce,te]).delete([ne,ie,ce,te,me]).grant(z).extend($).create([oe]).read([ae,pe]).update([re,oe,pe]).delete([oe]).grant(V).extend($).create([oe,Ee,de,_e,ae,se,pe,ve,he,Ae]).read([oe,Ee,de,_e,ae,pe,ve,he,Ae]).update([re,oe,le,ue,Ee,de,_e,ae,pe,ve,Se,he,Ae]).delete([oe,Ee,de,ie,_e,ae,pe,ve,he,Ae]).grant(q).extend(V).create([re,Re,Ae]).read([Re,Ae,Ne]).update([Re]).delete([re,Re,Ae,Ne]).grant(Q).extend(q),be.grant(Z).create([ie]).read([ie]).update([ie]).delete([ie]),be.grant(X).read([de,Ee]).update([Ee]),be.grant(J).create([...Ie,H]).read(Ie).update([...Ie,K]).delete(Ie),be.grant(ee).create([te,ne,re,oe,ie,le,se,ue,ae,ce,pe,fe,ye,de,Ee,Ae,ve,H,he,_e,ge,me,Se,Re]).read(Ie).update([te,re,ne,oe,ie,le,ue,ae,se,ce,pe,fe,de,ye,Ae,Ee,ve,K,H,he,_e,me,ge,Se,Re]).deleteOwn([te,re,ne,oe,ie,ae,se,ce,pe,fe,de,Ee,Ae,ve,he,_e,Ne,ge,Se,me,Re]);const Te={billingType:{MONTHLY:"MONTHLY",YEARLY:"YEARLY",FOREVER:"FOREVER",TWO_YEARLY:"TWO_YEARLY"},siteTypes:{STATIC:"STATIC",AGENCY:"AGENCY"},product:{STARTER:"STARTER",PERSONAL:"PERSONAL",AGENCY:"AGENCY",FREE:"FREE",BUSINESS:"BUSINESS",PREMIUM:"PREMIUM",AGENCY_PLUS:"AGENCY_PLUS"},planType:{REGULAR:"REGULAR",AGENCY:"AGENCY"},plan:{CMS:"CMS",FREE:"FREE",PLAN_1:"PLAN_1",PLAN_2:"PLAN_2",PLAN_3:"PLAN_3",STARTER_25:"STARTER_25",PREMIUM_10:"PREMIUM_10",PREMIUM_25:"PREMIUM_25",PREMIUM_100:"PREMIUM_100",STARTER:"STARTER",PERSONAL:"PERSONAL",PERSONAL_MONTHLY:"PERSONAL_MONTHLY",BUSINESS:"BUSINESS",BUSINESS_3:"BUSINESS_3",BUSINESS_10:"BUSINESS_10",BUSINESS_MONTHLY:"BUSINESS_MONTHLY",BUSINESS_MONTHLY_10:"BUSINESS_MONTHLY_10",AGENCY:"AGENCY",AGENCY_25:"AGENCY_25",AGENCY_100:"AGENCY_100",AGENCY_250:"AGENCY_250",AGENCY_PLUS:"AGENCY_PLUS",AGENCY_MONTHLY_25:"AGENCY_MONTHLY_25",AGENCY_MONTHLY_100:"AGENCY_MONTHLY_100",AGENCY_MONTHLY_250:"AGENCY_MONTHLY_250",LTD_AGENCY_NCF:"LTD_AGENCY_NCF",LTD_AGENCY_PRIME:"LTD_AGENCY_PRIME"}},{billingType:Oe,product:Ce,planType:Le,plan:Pe}=Te,{YEARLY:we,MONTHLY:Ye,TWO_YEARLY:Ge,FOREVER:Ue}=Oe,Me={};Me[Pe.FREE]={price:0,planId:0,provider:"",billingType:"",displayName:"Free",planKey:Pe.FREE,planType:Le.REGULAR,productType:Ce.FREE,limits:{domain:0}},Me[Pe.PERSONAL_MONTHLY]={limits:{domain:1},price:{[Ye]:{IN:{original:1199,discount:5.6,discountAllowed:!1,discountRatio:.3,currency:"INR",currencySign:"\u20b9"},DEFAULT:{original:29,discount:5.6,discountAllowed:!1,discountRatio:.3,currency:"USD",currencySign:"$"}}},billingType:Ye,discountPrice:{[Ye]:5.6},discountAllowed:!1,coupon:"BLF30",discountRatio:.3,planKey:Pe.PERSONAL_MONTHLY,planType:Le.REGULAR,productType:Ce.PERSONAL,displayName:"Personal (1 Domain) - Monthly"},Me[Pe.PERSONAL]={price:{[we]:{IN:{original:8999,discount:33.6,discountAllowed:!1,discountRatio:.3,currency:"INR",currencySign:"\u20b9"},DEFAULT:{original:216,discount:33.6,discountAllowed:!1,discountRatio:.3,currency:"USD",currencySign:"$"}},[Ue]:{DEFAULT:{original:249,domain:199,discount:33.6,discountAllowed:!1,discountRatio:.3,currency:"USD",currencySign:"$"}}},limits:{domain:1},coupon:"BLF30",billingType:we,displayName:"Personal (1 Domain) - Yearly",ltdDisplayName:"Personal (LTD)",planKey:Pe.PERSONAL,planType:Le.REGULAR,productType:Ce.PERSONAL},Me[Pe.PLAN_1]={price:36,provider:"PADDLE",billingType:"YEARLY",displayName:"Starter ( 25 Domains )",planKey:Pe.PLAN_1,planType:Le.REGULAR,productType:Ce.STARTER,limits:{domain:25}},Me[Pe.PLAN_2]={price:50,provider:"PADDLE",billingType:"YEARLY",displayName:"Premium (25 Domains)",planKey:Pe.PLAN_2,planType:Le.REGULAR,productType:Te.product.PREMIUM,limits:{domain:25}},Me[Pe.PLAN_3]={provider:"PADDLE",billingType:Oe.FOREVER,displayName:"Lifetime",planKey:Te.plan.PLAN_3,planType:Le.REGULAR,productType:Te.product.PREMIUM,price:{[Ue]:{DEFAULT:{domain:149,currency:"USD",currencySign:"$"}}},limits:{domain:3}},Me[Pe.LTD_AGENCY_PRIME]={displayName:"DORIK CMS - PRIME LTD",billingType:Oe.FOREVER,planType:Le.AGENCY,planKey:Pe.LTD_AGENCY_PRIME,productType:Ce.AGENCY,price:{[Ue]:{DEFAULT:{domain:149,currency:"USD",currencySign:"$"}}},limits:{pageViews:1e5,staffLimit:1e3,category:1e3,tag:1e3,post:1e3,members:5e4,teamMembers:1e3}},Me[Pe.LTD_AGENCY_NCF]={displayName:"DORIK CMS - NoCodeFrance",billingType:Oe.FOREVER,planType:Le.AGENCY,planKey:Pe.LTD_AGENCY_NCF,productType:Ce.AGENCY,price:{[Ue]:{DEFAULT:{domain:149,currency:"USD",currencySign:"$"}}},limits:{pageViews:1e5,staffLimit:1e3,category:1e3,tag:1e3,post:1e3,members:5e4,teamMembers:1e3}},Me[Pe.STARTER_25]={price:79,provider:"PADDLE",billingType:"YEARLY",displayName:"Starter  (25 Domains)",planKey:Pe.STARTER_25,planType:Le.REGULAR,productType:Ce.STARTER,limits:{domain:25}},Me[Pe.PREMIUM_10]={price:79,provider:"PADDLE",billingType:"YEARLY",displayName:"Premium 10",planKey:Pe.PREMIUM_10,planType:Le.REGULAR,productType:Ce.PREMIUM,limits:{domain:100}},Me[Pe.PREMIUM_25]={price:79,provider:"PADDLE",billingType:"YEARLY",displayName:"Premium 25",planKey:Pe.PREMIUM_25,planType:Le.REGULAR,productType:Ce.PREMIUM,limits:{domain:100}},Me[Pe.PREMIUM_100]={price:199,provider:"PADDLE",billingType:"YEARLY",displayName:"Premium",planKey:Pe.PREMIUM_100,planType:Le.REGULAR,productType:Ce.PREMIUM,limits:{domain:100}},Me[Pe.BUSINESS_MONTHLY]={provider:"PADDLE",billingType:Ye,displayName:"Business (3 Domains) - Monthly",planKey:Pe.BUSINESS_MONTHLY,price:{[Ye]:{IN:{original:2399,discount:13.3,discountAllowed:!1,discountRatio:.3,currency:"INR",currencySign:"\u20b9"},DEFAULT:{original:59,discount:13.3,discountAllowed:!1,discountRatio:.3,currency:"USD",currencySign:"$"}}},coupon:"BLF30",discountRatio:.3,planType:Le.REGULAR,productType:Ce.BUSINESS,limits:{domain:3}},Me[Pe.BUSINESS_3]={price:{[we]:{IN:{original:19188,discount:90.3,discountAllowed:!1,discountRatio:.3,currency:"INR",currencySign:"\u20b9"},DEFAULT:{original:468,discount:90.3,discountAllowed:!1,discountRatio:.3,currency:"USD",currencySign:"$"}},[Ue]:{DEFAULT:{original:599,domain:149,discount:90.3,discountAllowed:!1,discountRatio:.3,currency:"USD",currencySign:"$"}}},coupon:"BLF30",discountRatio:.3,billingType:we,planKey:Pe.BUSINESS_3,planType:Le.REGULAR,displayName:"Business (3 Domains) - Yearly",ltdDisplayName:"Business (LTD)",productType:Ce.BUSINESS,limits:{domain:3}},Me[Pe.BUSINESS_10]={price:{[we]:{IN:{original:59988,discount:13.3,discountAllowed:!1,discountRatio:.3,currency:"INR",currencySign:"\u20b9"},DEFAULT:{original:1428,discount:244.3,discountAllowed:!1,discountRatio:.3,currency:"USD",currencySign:"$"}}},coupon:"BLF30",discountRatio:.3,billingType:we,displayName:"Business (10 Domains) - Yearly",planKey:Pe.BUSINESS_10,planType:Le.REGULAR,productType:Ce.BUSINESS,limits:{domain:10}},Me[Pe.BUSINESS_MONTHLY_10]={price:{[Ye]:{IN:{original:6599,discount:13.3,discountAllowed:!1,discountRatio:.3,currency:"INR",currencySign:"\u20b9"},DEFAULT:{original:159,discount:34.3,discountAllowed:!1,discountRatio:.3,coupon:"BLF30",currency:"USD",currencySign:"$"}}},coupon:"BLF30",discountRatio:.3,billingType:Ye,displayName:"Business (10 Domains) - Monthly",planKey:Pe.BUSINESS_MONTHLY_10,planType:Le.REGULAR,productType:Ce.BUSINESS,limits:{domain:10}},Me[Pe.AGENCY_25]={billingType:we,displayName:"Agency (25 Domains)",planKey:Pe.AGENCY_25,planType:Le.AGENCY,productType:Ce.AGENCY,discountAllowed:!0,coupon:"BLF30",price:{[we]:2868,[Ge]:699},discountPrice:{[we]:314.3,[Ge]:489.3},discountRatio:.3,limits:{domain:25}},Me[Pe.AGENCY_100]={billingType:we,displayName:"Agency (100 Domains)",planType:Le.AGENCY,planKey:Pe.AGENCY_100,productType:Ce.AGENCY,discountAllowed:!0,coupon:"BLF30",limits:{domain:100},price:{[we]:849,[Ge]:1299},discountPrice:{[we]:594.3,[Ge]:909.3},discountRatio:.3},Me[Pe.AGENCY_250]={displayName:"Agency (250 Domains)",billingType:we,planType:Le.AGENCY,planKey:Pe.AGENCY_250,productType:Ce.AGENCY,discountAllowed:!0,coupon:"BLF30",limits:{domain:250},price:{[we]:1199,[Ge]:1999},discountPrice:{[we]:839.3,[Ge]:1399.3},discountRatio:.3},Me[Pe.AGENCY_MONTHLY_25]={billingType:Ye,displayName:"Agency (25 Domains) - Monthly",planKey:Pe.AGENCY_MONTHLY_25,planType:Le.AGENCY,productType:Ce.AGENCY,discountAllowed:!1,coupon:"BLF30",price:{[Ye]:299},discountPrice:{[Ye]:41.3},discountRatio:.3,limits:{domain:25}},Me[Pe.AGENCY_MONTHLY_100]={billingType:Ye,displayName:"Agency (100 Domains) - Monthly",planType:Le.AGENCY,planKey:Pe.AGENCY_MONTHLY_100,productType:Ce.AGENCY,discountAllowed:!1,coupon:"BLF30",limits:{domain:100},price:{[Ye]:119},discountPrice:{[Ye]:83.3},discountRatio:.3},Me[Pe.AGENCY_MONTHLY_250]={displayName:"Agency (250 Domains) - Monthly",billingType:Ye,planType:Le.AGENCY,planKey:Pe.AGENCY_MONTHLY_250,productType:Ce.AGENCY,discountAllowed:!1,coupon:"BLF30",limits:{domain:250},price:{[Ye]:159},discountPrice:{[Ye]:111.3},discountRatio:.3};const De=new Map,{plan:Be}=Te;De.set(Be.FREE,Me.FREE),De.set(Be.PERSONAL_MONTHLY,{...Me.PERSONAL_MONTHLY,planId:19384}),De.set(Be.PERSONAL,{...Me.PERSONAL,planId:19385}),De.set(Be.PLAN_1,{...Me.PLAN_1,planId:9389}),De.set(Be.PLAN_2,{...Me.PLAN_2,planId:7844}),De.set(Be.PLAN_3,{...Me.PLAN_3,planId:7845}),De.set(Be.LTD_AGENCY_PRIME,{...Me.LTD_AGENCY_PRIME,planId:31936}),De.set(Be.LTD_AGENCY_NCF,{...Me.LTD_AGENCY_NCF,planId:19389}),De.set(Be.STARTER_25,{...Me.STARTER_25,planId:9387}),De.set(Be.PREMIUM_100,{...Me.PREMIUM_100,planId:9388}),De.set(Be.BUSINESS_MONTHLY,{...Me.BUSINESS_MONTHLY,planId:19388}),De.set(Be.BUSINESS_3,{planId:48465,...Me.BUSINESS_3}),De.set(Be.BUSINESS_10,{...Me.BUSINESS_10,planId:48466}),De.set(Be.BUSINESS_MONTHLY_10,{...Me.BUSINESS_MONTHLY_10,planId:65357}),De.set(Be.AGENCY_25,{...Me.AGENCY_25,planId:48467}),De.set(Be.AGENCY_100,{...Me.AGENCY_100,planId:48468}),De.set(Be.AGENCY_250,{...Me.AGENCY_250,planId:48469}),De.set(Be.AGENCY_MONTHLY_25,{...Me.AGENCY_MONTHLY_25,planId:65358}),De.set(Be.AGENCY_MONTHLY_100,{...Me.AGENCY_MONTHLY_100,planId:65359}),De.set(Be.AGENCY_MONTHLY_250,{...Me.AGENCY_MONTHLY_250,planId:65360});const xe=new Map,{plan:ke}=Te;xe.set(ke.FREE,Me.FREE),xe.set(ke.PERSONAL_MONTHLY,{...Me.PERSONAL_MONTHLY,planId:743159}),xe.set(ke.PERSONAL,{...Me.PERSONAL,planId:743160}),xe.set(ke.PLAN_1,{...Me.PLAN_1,planId:591501}),xe.set(ke.PLAN_2,{...Me.PLAN_2,planId:592743}),xe.set(ke.PLAN_3,{...Me.PLAN_3,planId:599617}),xe.set(ke.STARTER_25,{...Me.STARTER_25,planId:744473}),xe.set(ke.PREMIUM_10,{...Me.PREMIUM_10,planId:647853}),xe.set(ke.PREMIUM_25,{...Me.PREMIUM_25,planId:647857}),xe.set(ke.PREMIUM_100,{...Me.PREMIUM_100,planId:647859}),xe.set(ke.BUSINESS_MONTHLY,{...Me.BUSINESS_MONTHLY,planId:743162}),xe.set(ke.BUSINESS_3,{...Me.BUSINESS_3,planId:743161}),xe.set(ke.BUSINESS_10,{...Me.BUSINESS_10,planId:823088}),xe.set(ke.BUSINESS_MONTHLY_10,{...Me.BUSINESS_MONTHLY_10,planId:857028}),xe.set(ke.AGENCY_25,{...Me.AGENCY_25,planId:774988}),xe.set(ke.AGENCY_100,{...Me.AGENCY_100,planId:774989}),xe.set(ke.AGENCY_250,{...Me.AGENCY_250,planId:823732}),xe.set(ke.AGENCY_MONTHLY_25,{...Me.AGENCY_MONTHLY_25,planId:857029}),xe.set(ke.AGENCY_MONTHLY_100,{...Me.AGENCY_MONTHLY_100,planId:857030}),xe.set(ke.AGENCY_MONTHLY_250,{...Me.AGENCY_MONTHLY_250,planId:857031}),xe.set(ke.LTD_AGENCY_PRIME,{...Me.LTD_AGENCY_PRIME,planId:779882}),xe.set(ke.LTD_AGENCY_NCF,{...Me.LTD_AGENCY_NCF,planId:795160});const{product:je,plan:Fe}=Te,He=new Map;He.set(Fe.PERSONAL,{provider:"",plans:[Fe.PERSONAL,Fe.PERSONAL_MONTHLY],displayName:"Personal",productType:je.PERSONAL,features:[{label:"AI Site Generation (Beta)",active:!0},{label:"AI Text Generation (Beta)",active:!0},{label:"AI Image Generation (Beta)",active:!0},{label:"25 Pages",active:!0},{label:"200 Blog Posts",active:!0},{label:"0 Collaborator",active:!0},{label:"Unlimited Storage",active:!0},{label:"Unlimited Bandwidth",active:!0},{label:"5 CMS Collections",active:!0},{label:"200 Collection Items",active:!0},{active:!0,label:"Custom Fields & Collections"},{label:"Templates & UI Blocks",active:!0},{label:"3,000 Members",active:!0},{label:"Export Site",active:!1},{label:"White Label Dashboard",active:!1},{label:"Client Billing",active:!1},{label:"Agency Branding",active:!1},{label:"White Label Documentation",active:!1}]}),He.set(Fe.BUSINESS,{provider:"",plans:[Fe.BUSINESS_3,Fe.BUSINESS_10,Fe.BUSINESS_MONTHLY,Fe.BUSINESS_MONTHLY_10],displayName:"Business",productType:je.BUSINESS,features:[{label:"AI Site Generation (Beta)",active:!0},{label:"AI Text Generation (Beta)",active:!0},{label:"AI Image Generation (Beta)",active:!0},{label:"Unlimited Pages",active:!0},{label:"Unlimited Blog Posts",active:!0},{label:"10 Collaborator",active:!0},{label:"Unlimited Storage",active:!0},{label:"Unlimited Bandwidth",active:!0},{label:"Unlimited CMS Collections",active:!0},{label:"Unlimited Collection Items",active:!0},{active:!0,label:"Custom Fields & Collections"},{label:"Templates & UI Blocks",active:!0},{label:"10,000 Members",active:!0},{label:"Export Site 15 Times Per Month",active:!0},{label:"White Label Dashboard",active:!0},{label:"Client Billing",active:!1},{label:"Agency Branding",active:!1},{label:"White Label Documentation",active:!1}]}),He.set(Fe.AGENCY,{provider:"",plans:[Fe.AGENCY_25,Fe.AGENCY_100,Fe.AGENCY_250,Fe.AGENCY_MONTHLY_25,Fe.AGENCY_MONTHLY_100,Fe.AGENCY_MONTHLY_250],displayName:"Agency",productType:je.AGENCY,features:[{label:"AI Site Generation (Beta)",active:!0},{label:"AI Text Generation (Beta)",active:!0},{label:"AI Image Generation (Beta)",active:!0},{label:"Unlimited Pages",active:!0},{label:"Unlimited Blog Posts",active:!0},{label:"Unlimited Collaborator",active:!0},{label:"Unlimited Storage",active:!0},{label:"Unlimited Bandwidth",active:!0},{label:"Unlimited CMS Collections",active:!0},{label:"Unlimited Collection Items",active:!0},{active:!0,label:"Custom Fields & Collections"},{label:"Templates & UI Blocks",active:!0},{label:"Unlimted Members",active:!0},{label:"Export Site 15 Times Per Month",active:!0},{label:"White Label Dashboard",active:!0},{label:"Client Billing",active:!0},{label:"Agency Branding",active:!0},{label:"White Label Documentation",active:!0}]});const Ke=new Map;Ke.set(Fe.BUSINESS,{plans:[Fe.BUSINESS_MONTHLY,Fe.LTD_AGENCY_PRIME,Fe.LTD_AGENCY_NCF],displayName:"Business",features:He.get(Fe.BUSINESS).features||[]}),Ke.set(Fe.PERSONAL,{displayName:"Personal",plans:[Fe.PERSONAL_MONTHLY],features:He.get(Fe.PERSONAL).features||[]}),Ke.set(Te.product.FREE,{displayName:"Free",plans:[Fe.FREE],features:[{label:"\u221e Published Projects*",active:!0},{label:"Integrations",active:!0},{label:"SEO & Social Settings",active:!0},{label:"Custom CSS",active:!0},{label:"Contact Form",active:!0},{label:"Subscription Form",active:!0}]}),Ke.set(Te.product.STARTER,{displayName:"Starter",plans:[Fe.PLAN_1,Fe.PLAN_2,Fe.STARTER_25],features:[{label:"\u221e Published Projects*",active:!0},{label:"Integrations",active:!0},{label:"SEO & Social Settings",active:!0},{label:"Custom CSS",active:!0},{label:"Contact Form",active:!0},{label:"Subscription Form",active:!0},{label:"Remove Branding",active:!0},{label:"Custom Code",active:!0}]}),Ke.set(Te.product.PREMIUM,{displayName:"Premium",plans:[Fe.PLAN_3,Fe.PREMIUM_10,Fe.PREMIUM_25,Fe.PREMIUM_100],features:[{label:"\u221e Published Projects*",active:!0},{label:"Integrations",active:!0},{label:"SEO & Social Settings",active:!0},{label:"Custom CSS",active:!0},{label:"Contact Form",active:!0},{label:"Subscription Form",active:!0},{label:"Remove Branding",active:!0},{label:"Custom Code",active:!0},{label:"Custom Form",active:!0},{label:"Payment Button",active:!0},{label:"Export HTML/CSS/JS",active:!0}]});const Ze=["production","staging"].includes({VITE_AIRTABLE_API_URL:"https://rkqj7859q4.execute-api.us-east-2.amazonaws.com/Prod",VITE_SUBSCRIPTION_API_URL:"https://41f5pv771f.execute-api.us-east-2.amazonaws.com/Prod/create-contact",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_APP_STAGE),{siteTypes:{STATIC:qe},plan:{FREE:Ve,STARTER:$e,PERSONAL:We,AGENCY:Je,PLAN_1:ze,PLAN_2:Qe,PLAN_3:Xe,STARTER_25:et,AGENCY_PLUS:tt,BUSINESS_3:rt,BUSINESS_10:nt,AGENCY_25:ot,AGENCY_100:it,AGENCY_250:at,LTD_AGENCY_NCF:st,BUSINESS_MONTHLY:lt,LTD_AGENCY_PRIME:ut,PERSONAL_MONTHLY:ct,BUSINESS_MONTHLY_10:dt,AGENCY_MONTHLY_25:pt,AGENCY_MONTHLY_100:ft,AGENCY_MONTHLY_250:yt},billingType:{TWO_YEARLY:Et,FOREVER:At}}=Te,vt=Ze?xe:De,_t=(e=0)=>[...vt.values()].find((t=>t.planId===e)),ht=[Ve,ze,Qe,$e,ct,lt,dt,pt,ft,yt,We,et,rt,nt,ot,it,Je,tt,at,Xe,st,ut];Symbol.toStringTag}}]);